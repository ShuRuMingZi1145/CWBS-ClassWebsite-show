async function loadAndRenderArticle(e,t){try{const n=`../article/md/${e}.md`,o=await fetch(n);if(!o.ok)throw new Error(`无法加载文章: ${o.status} ${o.statusText}`);const r=await o.text(),l=renderMarkdown(r,{enableToc:!0,enableCodeHighlight:!0,enableImageLazyLoad:!0,enableTableResponsive:!0,enableTaskLists:!0,enableEmoji:!0,enableMath:!1,enableAlerts:!0,enableBadges:!0,enableDetails:!0,enableFootnotes:!0});t.innerHTML=l,postProcessRenderedContent(t),extractAndSetTitle(r)}catch(e){t.innerHTML=`\n            <div class="bg-red-50 border border-red-200 rounded-lg p-6 text-center">\n                <i class="fas fa-exclamation-triangle text-red-500 text-2xl mb-3"></i>\n                <h3 class="text-lg font-semibold text-red-800 mb-2">加载失败</h3>\n                <p class="text-red-600">无法加载文章内容，请稍后重试。</p>\n                <p class="text-sm text-red-500 mt-2">错误信息: ${e.message}</p>\n            </div>\n        `}}function postProcessRenderedContent(e){"undefined"!=typeof hljs&&e.querySelectorAll("pre code").forEach(e=>{hljs.highlightElement(e)}),e.querySelectorAll("img").forEach(e=>{e.loading="lazy"}),e.querySelectorAll("table").forEach(e=>{const t=document.createElement("div");t.className="table-responsive overflow-x-auto",e.parentNode.insertBefore(t,e),t.appendChild(e)}),"undefined"!=typeof AOS&&AOS.refresh()}function extractAndSetTitle(e){const t=e.match(/^#\s+(.+)$/m);if(t&&t[1]){const e=t[1].trim();document.title=`${e} - 九（2）班 班级网站`;const n=document.getElementById("page-title");n&&(n.textContent=e)}}function loadArticleFromURL(){const e=new URLSearchParams(window.location.search).get("id");if(e){const t=document.getElementById("content");t&&loadAndRenderArticle(e,t)}}function initArticleLoader(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",loadArticleFromURL):loadArticleFromURL()}"undefined"!=typeof module&&module.exports&&(module.exports={loadAndRenderArticle:loadAndRenderArticle,loadArticleFromURL:loadArticleFromURL,initArticleLoader:initArticleLoader});